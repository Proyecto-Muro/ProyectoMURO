Sea $\mathbb{R}$ el conjunto de los números reales. Determinar todas las funciones $f : \mathbb{R} \to \mathbb{R}$ que satisfacen la ecuación
\[f\left(x+f(x+y)\right)+f(xy)=x+f(x+y)+yf(x)\]
Para todos los números reales $x$, $y$.